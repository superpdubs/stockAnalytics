{% extends "base.html" %}

{% block title %}{{ tickerInfo.companyDetails.symbol }} {{ "$%.2f"|format(tickerInfo.currentPrice)}} - {{ tickerInfo.companyDetails.companyName }}{% endblock %}

{% block header %}{% include 'header.html' %}
{% endblock %}

{% block body_contents %}
    <div class=row>
      <div class="stock-info column">
        <span class="company">{{ tickerInfo.companyDetails.companyName }}</span>
        <span class="symbol">{{ tickerInfo.companyDetails.symbol }}</span>
        <span class="exchange">{{ tickerInfo.companyDetails.exchange }}</span>
        <span class="value">{{ "%.2f"|format(tickerInfo.currentPrice)}}</span>
        <span class=currency>USD</span>
        <div>
          <span class="opening-value">Opened: {{ "$%.2f"|format(tickerInfo.open.price)}}</span>
{% if tickerInfo.live == true %}
          <span> - Currently live and trading</span>
{% else %}
          <span>Closed: {{ "$%.2f"|format(tickerInfo.close.price)}}</span>
{% endif %}
        </div>
      </div>

      <div class="graph column">
        <img src="/static/graph/{{ graph }}.png">
      </div>


    </div>
    <div class="row">
      <div class="graph column">
{% for newsItem in tickerNews %}
        <div class="article">
          <h3><a href="{{ newsItem.url }}" >{{ newsItem.headline }}</a></h3>
          <span class="source">{{ newsItem.source }} <time datetime="{{ newsItem.datetime }}">{{ newsItem.datetime }}</time></span>
          <p>{{ newsItem.summary }}</p>
        </div>
{% endfor %}
      </div>

      <div class="graph column twitter">
{% for tweet in twitter %}
  {% if tweet.urls[0] %}
        <div>
            {{ twitterEmbed(tweet.id, tweet.urls[0].url).html | safe}}
        </div>
  {%  endif %}
{% endfor %}
      </div>
    </div>{% endblock %}
